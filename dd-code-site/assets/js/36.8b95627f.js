(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{531:function(s,e,a){"use strict";a.r(e);var t=a(6),r=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("Redis 没有实现访问控制这个功能，但是它提供了一个轻量级的认证方式，可以编辑 "),a("code",[s._v("redis.conf")]),s._v(" 配置来启用认证。")]),s._v(" "),a("h3",{attrs:{id:"_1、初始化redis密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、初始化redis密码"}},[s._v("#")]),s._v(" 1、初始化Redis密码")]),s._v(" "),a("p",[s._v("在配置文件中有个参数： requirepass  这个就是配置 Redis 访问密码的参数，需重启 Redis 才能生效）")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v(" requirepass 密码\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("Redis 的查询速度是非常快的，外部用户一秒内可以尝试多大150K个密码，所以密码要尽量长（对于DBA 没有必要必须记住密码）；")]),s._v(" "),a("h3",{attrs:{id:"_2、不重启redis设置密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、不重启redis设置密码"}},[s._v("#")]),s._v(" 2、不重启Redis设置密码")]),s._v(" "),a("p",[s._v("在配置文件中配置 requirepass 的密码（当 Redis 重启时密码依然有效）")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v(" redis "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" requirepass 密码\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"查询密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询密码"}},[s._v("#")]),s._v(" 查询密码")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("   redis "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" config get requirepass\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ERR operation not permitted\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"密码验证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#密码验证"}},[s._v("#")]),s._v(" 密码验证")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("   redis "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" auth 密码\n   OK\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"再次查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#再次查询"}},[s._v("#")]),s._v(" 再次查询")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("   redis "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" config get requirepass\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"requirepass"')]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test123"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("blockquote",[a("p",[s._v("PS：如果配置文件中没添加密码 那么 Redis 重启后，密码失效。")])]),s._v(" "),a("h3",{attrs:{id:"_3、登陆有密码的-redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、登陆有密码的-redis"}},[s._v("#")]),s._v(" 3、登陆有密码的 Redis：")]),s._v(" "),a("h4",{attrs:{id:"在登录的时候的时候输入密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在登录的时候的时候输入密码"}},[s._v("#")]),s._v(" 在登录的时候的时候输入密码")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("redis-cli -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v(" -a test123\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"先登陆后验证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#先登陆后验证"}},[s._v("#")]),s._v(" 先登陆后验证")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v(" redis-cli -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v("\n redis "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" auth test123\n OK\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("blockquote",[a("p",[s._v("AUTH 命令跟其他redis命令一样，是没有加密的；阻止不了攻击者在网络上窃取你的密码。")]),s._v(" "),a("p",[s._v("认证层的目标是提供多一层的保护。如果防火墙或者用来保护redis的系统防御外部攻击失败的话，外部用户如果没有通过密码认证还是无法访问 Redis 的。")])]),s._v(" "),a("p",[s._v("参考资料：")]),s._v(" "),a("p",[s._v("https://blog.51cto.com/weipengfei/1217872")]),s._v(" "),a("p",[a("strong",[a("u",[a("a",{attrs:{href:"https://liudandandear.gitee.io",target:"_blank",rel:"noopener noreferrer"}},[s._v("<<点击返回主页"),a("OutboundLink")],1)])])])])}),[],!1,null,null,null);e.default=r.exports}}]);