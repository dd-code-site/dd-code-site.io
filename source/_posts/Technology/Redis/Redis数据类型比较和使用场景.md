---
title: Redis数据类型比较和使用场景
categories:
  - 技术开发
  - 数据库
  - Redis
abbrlink: 1349846639
---

> Redis 支持五种数据类型：
>
> string（字符串）、hash（哈希）、list（列表）、set（集合）、zset（有序集合）

#### 字符串（String）

`string` 是 **redis** 最基本的类型，可以理解为和 **memcache** 一模一样的类型，key->value 结构

string 类型是二进制安全的。意思是 redis 的 `string` 可以包含任何数据。比如 jpg 图片或者序列化的对象。

`string` 类型是 redis 最基本的数据类型，`string` 类型的值最大能存储 512MB

**应用场景：**

- 手机验证码存储，过期时间失效
- 缓存功能
- 计数器
- `bitmap` 位图：可广泛用于，签到、活跃、打卡等场景统计
- 分布式锁



#### 哈希（Hash）

Redis `hash` 是一个键值对（`key->value`）集合，是一个 `string` 类型的 `field` 和 `value` 的映射表，`hash` 特别适合用于存储对象。

每个 `hash` 可以存储 `232-1` 键值对（40多亿）。

**应用场景：**

- 存储一个用户信息对象数据，比如用户的昵称、年龄、性别、积分等
- 购物车数据



#### 列表（List）

Redis  `List` 是一个双向链表，按照插入顺序排序。可以添加一个元素到列表的头部（左边）或者尾部（右边）。

**应用场景：**

- List 类型经常会被用于消息队列的服务，以完成多程序之间的消息交换
- 各种列表，比如：关注列表、粉丝列表、最新消息排行、每篇文章的评论
- 利用 `lrange` 可以很方便的实现 `list` 内容分页的功能



#### 集合（Set）

Redis 的 `set` 是 `string` 类型的无序集合。集合中的元素没有先后顺序，不重复。将重复的元素放入 `Set` 会自动去重。

和列表一样，在执行插入、删除、判断是否存在某元素时，效率比较高。集合最大的优势在于可以进行交集、并集、差集 操作。

`set` 可包含的最大元素数量是 `4294967295`。

集合是通过哈希表实现的，所以添加、删除、查找的复杂度都是 `O（1）`。

**应用场景：**

- 利用交集求共同好友
- 利用唯一性，可以统计访问网站的所有独立IP、需要去重列表场景
- 好友推荐的时候可以根据 `tag` 求交集，大于某个临界值就可以推荐，集合最大的成员数为 232 - 1（4294967295，每个集合可存储40多亿个成员）



#### 有序集合（zset）

Redis `zset` 和 `set` 一样也是 `string` 类型元素的集合，且不允许重复的成员。

不同的是每个元素都会关联一个 `double` 类型的分数。Redis 正是通过分数来为集合中的成员进行从小到大的排序。

`zset`  的成员是惟一的，但分数 `score` 却可以重复。

`sorted`、 `set` 是插入有序的，即自动排序。

**应用场景：**

当你需要一个有序的并且不重复的集合列表是，那么可以选择 `sorted` 、`set` 数据结构。

**应用举例：**

- 例如存储全班同学的成绩，其集合 `value` 可以是同学的学号，而 `score` 就可以是成绩
- 排行榜应用，更具得分列出 **topN** 的用户
- 不重复的集合列表
- 过期淘汰场景